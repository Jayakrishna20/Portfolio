<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Projects Table</title>
    <link rel="stylesheet" href="./style/style.css" />
  </head>
  <body>
    <div class="archive">
      <h1>Archive</h1>
      <p>A Big List of things I've worked on</p>
    </div>
    <div>
      <table id="projectsTable" class="projectsTable">
        <thead>
          <tr>
            <th>Year</th>
            <th>Title</th>
            <th>Build With</th>
            <th>Links</th>
          </tr>
        </thead>
        <tbody>
          <!-- Table body will be populated with JavaScript -->
        </tbody>
      </table>
    </div>

    <script>
      fetch('projects.json')
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.json();
        })
        .then(data => {
          const tableBody = document.querySelector('#projectsTable tbody');
          data.forEach(project => {
            const row = document.createElement('tr');
            row.innerHTML = `
              <td>${project.year}</td>
              <td>${project.title}</td>
              <td>${project.tech.join(', ')}</td>
              <td><a href="${project.github}" target="_blank"><i class="fa fa-github card-icon card"></i></a>
                <a href="${project.external}" target="_blank"><i class="fa fa-github card-icon demo"></i></a></td>
            `;
            tableBody.appendChild(row);
          });
        })
        .catch(error => {
          console.error('There was a problem fetching the data:', error);
        });
    </script>
  </body>
</html>
